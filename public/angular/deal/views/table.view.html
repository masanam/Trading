 <table st-table="dealCollections" st-safe-src="deals" class="table table-striped">
  <div class="pull-right">
  </div>
  <thead>
      <tr>
        <th colspan="9" st-ratio="100"><input st-search="" class="form-control" placeholder="global search ..." type="text"/></th>
      </tr>
      <tr>
        <th st-sort="trader" st-ratio="20">Trader</th>
        <th st-sort="buyer" st-ratio="10">Costumer</th>
        <th st-sort="seller" st-ratio="10">Supplier</th>
        <th st-sort="created" st-ratio="10">Created</th>
        <th st-sort="volume" st-ratio="10">Volume (tonnes)</th>
        <th st-sort="total_sales" st-ratio="10">Total Sales (USD)</th>
        <th st-sort="total_cogs" st-ratio="10">Total CoGS (USD)</th>
        <th st-sort="margin" st-ratio="10">Margin (USD)</th>
        <th st-sort="status" st-ratio="10">Status</th>
        <th st-sort="" st-ratio="10"></th>
      </tr>
  </thead>
  <tbody>
    <tr ng-repeat="deal in dealCollections" ui-sref="deal.view({id: deal.id})">
      <td st-ratio="20">{{deal.trader_name}}</td>
      <td st-ratio="10">{{deal.buyer_name}}</td>
      <td st-ratio="10">{{deal.seller_name}}</td>
      <!--td>
        <span ng-repeat="sell_deal in deal.sell_deal">
          {{sell_deal.sell_order.seller.company_name}}
        </span>
      </td>
      <td st-ratio="10">
        <span ng-repeat="buy_deal in deal.buy_deal">
          {{buy_deal.buy_order.buyer.company_name}}
        </span>
      </td-->
      <td st-ratio="10">{{deal.created_at  | convertToDate | date : 'd MMMM yy' }}</td>
      <td st-ratio="10">{{deal.volume | number}}</td>
      <td st-ratio="10">{{deal.total_sales | number }}</td>
      <td st-ratio="10">{{deal.total_cogs | number }}</td>
      <td st-ratio="10">{{ (deal.total_sales-deal.total_cogs) | number }}</td>
      <td>
          <deal-status status=deal.status></deal-status>
      </td>
      <td>
          <a ui-sref="lead.view-buyer({ id: buyer.id })"><i class="glyphicon glyphicon-info-sign"></i></a>
          <a ui-sref="lead.update-buyer({ id: buyer.id })"><i class="glyphicon glyphicon-pencil"></i></a>
          <a ng-click="delete(buyer)"><i class="glyphicon glyphicon-trash"></i></a>
      </td>
    </tr>
    <tr ng-if="dealCollections.length == 0">
        <td colspan="9" class="text-center">No data available</td>
    </tr>
  </tbody>
  <tfoot>
      <tr>
          <td colspan="9" class="text-center">
             <div st-pagination="" st-items-by-page="10" st-displayed-pages="7"></div>
          </td>
      </tr>
  </tfoot>
</table>

        <div class="col-lg-12">
          <div class="box box-warning box-solid">
            <div class="box-header with-border">
              <h3 class="box-title">Total Sales: {{ getTotalPrice() | number }} USD</h3>

              <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
              </div>
              <!-- /.box-tools -->
            </div>
            <!-- /.box-header -->
            <div class="box-body">
              Total Volume: {{ getTotalVolume() | number }}
            </div>
            <!-- /.box-body -->
          </div>
          <!-- /.box -->
        </div>

