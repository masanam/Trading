<!-- hasapu 08-02-2017 untuk customer maps -->

  <div class="col-lg-12">
    <ng-map zoom="4" center="Indonesia" default-style="false" style="width:100%; height:500px;">
      <span ng-repeat="company in companies">

        <marker
          icon="{
            url: '/images/building.png'
          }"
          position="{{company.latitude}}, {{company.longitude}}"
          id="markport{{company.id}}" on-click="showPortDetail(company.id, showBuy)">
        </marker>
        <!-- <div ng-repeat="factory in company.factories">
          <marker
            icon="{
              url: '/images/building.png'
            }"
            position="{{factory.latitude}}, {{factory.longitude}}"
            id="markport{{factory.id}}" on-click="showFactoryDetail(factory.id, showBuy)">
          </marker>
        </div>
        <div ng-repeat="port in company.ports">
          <marker
            icon="{
              url: '/images/building.png'
            }"
            position="{{port.latitude}}, {{port.longitude}}"
            id="markport{{port.id}}" on-click="showPortDetail(port, showBuy)">
          </marker>
        </div> -->
        <directions
          draggable="true"
          panel="directions-panel"
          travel-mode="DRIVING"
          origin="{{company.latitude}} , {{company.latitude}}"
          destination="{{company.latitude}} , {{company.longitude}}">
        </directions>
      </span>
      <info-window id="company-info-window" default-style="false" maxWidth="800px">
        <div ng-non-bindable="" style="width:500px" class="no-gutter">
          <h3>Company Name: {{company.company_name}}</h3>
          <hr/>
          <div class="nav-tabs-custom">
            <uib-tabset active="active">
              <uib-tab index="0" heading="Company Details">
                <div id="concession">
                  <div class="row">
                    <!--div class="col-lg-4">
                      <uib-tabset active="activePill" vertical="true" type="pills">
                        <uib-tab index="0" ng-click="selectPill(0)" heading="Location"></uib-tab>
                        <uib-tab index="1" ng-click="selectPill(1)" heading="Resources"></uib-tab>
                        <uib-tab index="2" ng-click="selectPill(2)" heading="Licenses"></uib-tab>
                      </uib-tabset>
                    </div-->
                    <div class="col-lg-12">
                      &nbsp;
                      <div>
                        <section class="col-lg-12">
                        <div class="table-responsive">
                          <table>
                            <tr>
                              <td>Address  </td>
                              <td>  : {{company.address || 'N/A'}}  </td>
                            </tr>
                            <tr>
                              <td>City </td>
                              <td>  : {{company.city || 'N/A'}} </td>
                            </tr>
                            <tr>
                              <td>Country </td>
                              <td>  : {{company.country || 'N/A'}} </td>
                            </tr>
                            <tr>
                              <td>Industry </td>
                              <td>  : {{company.industry || 'N/A'}} </td>
                            </tr>
                            <tr>
                              <td>Phone </td>
                              <td>  : {{company.phone || 'N/A'}} </td>
                            </tr>
                            <tr>
                              <td>Position  </td>
                              <td>  : {{company.latitude || 'N/A'}}, {{company.longitude || 'N/A'}} </td>
                            </tr>
                            <tr>
                              <td>Web  </td>
                              <td>  : {{company.web || 'N/A'}}  </td>
                            </tr>
                            <tr>
                              <td>Email  </td>
                              <td>  : {{company.email || 'N/A'}}  </td>
                            </tr>
                            <tr>
                              <td>Status  </td>
                              <td ng-if="company.status=='a'"> : Active</td>
                              <td ng-if="company.status=='i'"> : Inactive</td>
                            </tr>
                            <tr>
                              <td>Description  </td>
                              <td> : </td>
                            </tr>
                            <tr>
                              <td></td>
                              <td>{{company.description || 'N/A'}}  </td>
                            </tr>
                          </table>
                          </div>
                        </section>
                      </div>
                    </div>
                    &nbsp;
                  </div>
                </div>
              </uib-tab>
              <uib-tab index="1" heading="Factory">
                <div id="factory" ng-repeat="factory in company.factories">
                  <div class="row">
                    <div class="col-lg-12">
                      &nbsp;
                      <div>
                        <section class="col-lg-12">
                        <div class="table-responsive">
                          <table>
                            <div class="col-lg-4 col-sm-4">
                              <h4 ng-click="showProduct(factory,showBuy)">
                                {{ factory.factory_name }}
                              </h4>
                            </div>
                          </table>
                          </div>
                        </section>
                      </div>
                    </div>
                    &nbsp;
                  </div>
                </div>
              </uib-tab>
            </uib-tabset>
          </div>
        </div>
      </info-window>
    </ng-map>
  </div>


      <!-- hasapu akhir tambahan untuk custumer maps -->
