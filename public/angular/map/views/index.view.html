<section class="content" ng-controller="MapController" ng-init="find()">
      <!-- Filter box -->
      <div class="row">
        <div class="col-lg-12">
          <h3>Filters</h3>
        </div>
      </div>
      <div class="row" ng-repeat="filter in filters">
        <div class="col-lg-12">
          <div class="filter-container">
            <span class="col-lg-4">
              <select ng-model="filter.field" class="form-control">
                <option value="gcv_arb">GCV ARB</option>
                <option value="gcv_adb">GCV ADB</option>
                <option value="ncv">NCV</option>
              </select>
            </span>
            <span class="col-lg-2">
              <select ng-model="filter.operand" class="form-control col-lg-2">
                <option value=">=">&ge;</option>
                <option value="<=">&le;</option>
                <option value="=">&asymp;</option>
              </select>
            </span>
            <span class="col-lg-4">
              <input type="text" class="form-control col-lg-5" ng-model="filter.number" />
            </span>
            <span class="col-lg-2">
              <button class="btn btn-danger" ng-click="deleteFilter(filter)">x</button>
            </span>
          </div>
        </div>
        &nbsp;
      </div>
      <div class="row">
        <div class="col-lg-12">
          <button class="btn btn-success" ng-click="addFilter()">+ Add Filter</button>
          <button class="btn btn-danger" ng-click="resetFilter()">Reset Filter</button>
          <button class="btn btn-info" ng-click="find()">Apply Filter</button>
        </div>
      </div>
      <div class="row">&nbsp;</div>
      <!-- Maps is here -->
      <div class="row">
  
        <div class="col-lg-12">
          <ng-map zoom="4" center="Indonesia" default-style="false" style="width:100%; height:500px;">
            <span ng-repeat="pos in concessions">
              <marker ng-if="pos.polygon === ''" position="{{pos.latitude}}, {{pos.longitude}}" id="mark{{pos.id}}" on-click="showDetail({{pos}})"></marker>
              <shape name="polygon" ng-if="pos.polygon !== ''" on-click="showDetail({{pos}})"
                 id="mark{{pos.id}}"
                 paths="{{pos.polygon}}"
                 stroke-color="#FF0000"
                 stroke-opacity="0.8"
                 stroke-weight="2"
                 fill-color="#FF0000"
                 fill-opacity="0.35">
              </shape>
            </span>
            <info-window id="info-window" default-style="false">
              <div ng-non-bindable="" style="width:600px; height: 400px;">
                <h3>Name: {{concession.concession_name}}</h3>
                <hr/>
                <div class="nav-tabs-custom">
                  <uib-tabset active="active">
                    <uib-tab index="0" heading="Concession">
                      <div id="concession">
                        <div class="row">
                          <!--div class="col-lg-4">
                            <uib-tabset active="activePill" vertical="true" type="pills">
                              <uib-tab index="0" ng-click="selectPill(0)" heading="Location"></uib-tab>
                              <uib-tab index="1" ng-click="selectPill(1)" heading="Resources"></uib-tab>
                              <uib-tab index="2" ng-click="selectPill(2)" heading="Licenses"></uib-tab>
                            </uib-tabset>
                          </div-->
                          <div class="col-lg-12">
                            &nbsp;
                            <div>
                              <section class="col-lg-6">
                                <div class="row">
                                  <span class="col-lg-6">Address:</span> 
                                  <span class="col-lg-6">{{concession.address || 'N/A'}}</span><br/>
                                </div>
                                <div class="row">
                                  <span class="col-lg-6">City:</span> 
                                  <span class="col-lg-6">{{concession.city || 'N/A'}}</span><br/>
                                </div>
                                <div class="row">
                                  <span class="col-lg-6">Position:</span> 
                                  <span class="col-lg-6">{{concession.latitude || 'N/A'}}, {{concession.longitude || 'N/A'}}</span><br/>
                                </div>
                                <div class="row">
                                  <span class="col-lg-6">Hauling Road Name:</span> 
                                  <span class="col-lg-6">{{concession.hauling_road_name || 'N/A'}}</span><br/>
                                </div>
                                <div class="row">
                                  <span class="col-lg-6">Port Distance:</span> 
                                  <span class="col-lg-6">{{concession.port_distance | number : 3 || 'N/A'}}</span><br/>
                                </div>
                                <div class="row">
                                  <span class="col-lg-6">License Type:</span> 
                                  <span class="col-lg-6">{{concession.license_type || 'N/A'}}</span><br/>
                                </div>
                                <div class="row">
                                  <span class="col-lg-6">Expiry Date:</span> 
                                  <span class="col-lg-6">{{concession.license_expiry_date | date : 'dd-MM-yyyy' || 'N/A'}}</span><br/>
                                </div>
                              </section>                  
                              <section class="col-lg-6">
                                <div class="row">
                                  <span class="col-lg-6">Size:</span> 
                                  <span class="col-lg-6">{{concession.size | number : 3 || 'N/A'}}</span><br/>
                                </div>
                                <div class="row">
                                  <span class="col-lg-6">Stripping Ratio:</span> 
                                  <span class="col-lg-6">{{concession.stripping_ratio | number : 3 || 'N/A'}}</span><br/>
                                </div>
                                <div class="row">
                                  <span class="col-lg-6">Resource:</span> 
                                  <span class="col-lg-6">{{concession.resource | number : 3 || 'N/A'}}</span><br/>
                                </div>
                                <div class="row">
                                  <span class="col-lg-6">Reserves:</span> 
                                  <span class="col-lg-6">{{concession.reserves | number : 3 || 'N/A'}}</span><br/>
                                </div>
                                <div class="row">
                                  <span class="col-lg-6">Contracted Volume:</span> 
                                  <span class="col-lg-6">{{concession.contracted_volume | number : 3 || 'N/A'}}</span><br/>
                                </div>
                                <div class="row">
                                  <span class="col-lg-6">Remaining Volume:</span> 
                                  <span class="col-lg-6">{{concession.remaining_volume | number : 3 || 'N/A'}}</span><br/>
                                </div>
                                <div class="row">
                                  <span class="col-lg-6">Annual Production:</span> 
                                  <span class="col-lg-6">{{concession.annual_production | number : 3 || 'N/A'}}</span><br/>
                                </div>
                              </section>
                            </div>
                          </div>
                          &nbsp;
                        </div>
                      </div>
                    </uib-tab>
                    <uib-tab index="1" heading="Product">
                      <div id="product">
                        &nbsp;
                        <div class="row">
                          <div class="col-lg-3">
                            <uib-tabset active="activePill" vertical="true" type="pills">
                              <uib-tab ng-repeat="(idx, prod) in concession.product" index="idx" ng-click="showProduct(prod)" heading="{{prod.product_name}}"></uib-tab>
                            </uib-tabset>
                          </div>
                          <div class="col-lg-9">
                            <h3 ng-show="!product">Click the Product on the left to show product details</h3>
                              <div ng-show="product">
                                <div class="row">
                                  <div class="col-lg-4">
                                    <h4>
                                      GCV ARB
                                    </h4>
                                    <h5>
                                     {{product.gcv_arb_min}} - {{product.gcv_arb_max}} kcal
                                    </h5>
                                  </div>
                                  <div class="col-lg-4">
                                    <h4>
                                      GCV ADB
                                    </h4>
                                    <h5>
                                     {{product.gcv_adb_min}} - {{product.gcv_adb_max}} kcal
                                    </h5>
                                  </div>
                                  <div class="col-lg-4">
                                    <h4>
                                      NCV
                                    </h4>
                                    <h5>
                                     {{product.ncv_min}} - {{product.ncv_max}} kcal
                                    </h5>
                                  </div>
                                </div>
                                <div class="row">
                                  <table class="table table-striped">
                                    <tbody>
                                      <tr>
                                        <td>Ash</td>
                                        <td>{{product.ash_min}} - {{product.ash_max}} %</td>
                                        <td>Total Sulfur</td>
                                        <td>{{product.ts_min}} - {{product.ts_max}} %</td>
                                      </tr>
                                      <tr>
                                        <td>Total Moisture</td>
                                        <td>{{product.tm_min}} - {{product.tm_max}} %</td>
                                        <td>Inherent Moisture</td>
                                        <td>{{product.im_min}} - {{product.im_max}} %</td>
                                      </tr>
                                      <tr>
                                        <td>Fixed Carbon</td>
                                        <td>{{product.fc_min}} - {{product.fc_max}} %</td>
                                        <td>Volatile Matter</td>
                                        <td>{{product.vm_min}} - {{product.vm_max}} %</td>
                                      </tr>
                                      <tr>
                                        <td>Hardness</td>
                                        <td>{{product.hgi_min}} - {{product.hgi_max}}</td>
                                        <td>Size</td>
                                        <td>{{product.size_min}} - {{product.size_max}}</td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>
                              </div>
                          </div>
                        </div>
                      </div>
                      &nbsp;
                    </uib-tab>
                  </uib-tabset>
                </div>
              </div>
            </info-window>
          </ng-map>
        </div>
      </div>
    </div>
    
     
</section>      