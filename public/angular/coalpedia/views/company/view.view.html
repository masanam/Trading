<div class="content" ng-controller="CompanyController" ng-init="findOne()">
  <!-- HEADER -->
  <div class="row submenu-header">
    <div class="submenu-header-item">
      <button type="button" class="btn btn-primary" ui-sref="company.list({ type: companyType })">
        <i class="glyphicon glyphicon-arrow-left"></i> Back
      </button>
    </div>
    <div class="submenu-header-item">
      <h4>{{ companyType | uppercase }} PROFILE</h4>
    </div>
  </div>

  <!-- PRIMARY DETAIL -->
  <div class="box box-widget widget-user">
          <!-- Add the bg color to the header using any of the bg-* classes -->
    <div class="widget-user-header bg-aqua-active">
      <h3 class="widget-user-username" ng-switch="company.company_type">
        {{ company.company_name }}


        <span ng-switch-when="c" class="pull-right label label-info"><i class='fa fa-industry'></i> CUSTOMER</span>
        <span ng-switch-when="s" class="pull-right label label-warning"><i class='fa fa-gear'></i> SUPPLIER</span>
        <span ng-switch-when="t" class="pull-right label label-danger"><i class='fa fa-tags'></i> TRADER</span>
        <span ng-switch-when="v" class="pull-right label label-success"><i class='fa fa-ship'></i> VENDOR</span>
      </h3>
      <h5 class="widget-user-desc" ng-switch="company.is_affiliated">
        {{ company.industry }}

        <span ng-switch-when=1 class="pull-right label label-info"><i class='fa fa-share-alt'></i> AFFILIATED</span>
        <span ng-switch-when=0 class="pull-right label label-default"><i class='fa fa-exchange'></i> NON-AFFILIATED</span>
        <span></span>
      </h5>
    </div>
    <div class="widget-user-image">
      <img class="img-circle" src="/images/default.jpg" alt="User Avatar">
    </div>

    <div class="box-footer">
      <div class="row">
        <div class="col-sm-12 border-right">
          <div class="description-block">
            <h5 class="description-text">{{ company.address }}</h5>
                
          </div>
        </div> 
      </div>
    </div>
  </div>


  <div style="margin-top:10px;" class="row">
    <div class="col-lg-4">
      <div class="box box-info">
        <div class="box-header with-border">
          <h3 class="box-title" style="font-size: 25px">About</h3>
          <div class="box-tools pull-right">
            <button type="button" class="btn btn-info" ng-click="modalUpdate()"><i class="glyphicon glyphicon-pencil"></i> Update</button>
          </div>
        </div>
        <div class="box-body no-padding">
          <div class="row-fluid">
            <div class="table-responsive">
              <table class="table table-striped">
                <tr><td>Country:</td><td>{{ company.country }}</td></tr>
                <tr><td>Address:</td><td>{{ company.address }}</td></tr>
                <tr><td>City:</td><td>{{ company.city }}</td></tr>
                <tr ng-if="company.company_type !== 'v'"><td>Industry:</td><td>{{ company.industry }}</td></tr>
                <tr ng-if="company.company_type !== 'c'">
                  <td>Annual Sales:</td><td>{{ company.annual_sales }} <span class='badge badger-danger'>Million USD</span></td>
                </tr>
                <tr ng-if="company.company_type !== 'c'">
                  <td>Purchasing Countries:</td><td>{{ company.purchasing_countries }}</td>
                </tr>
                <tr ng-if="company.company_type === 'c'">
                  <td>Annual Demand:</td><td>{{ company.annual_demand }} <span class='badge badger-danger'>Million Tonnes</span></td>
                </tr>
                <tr ng-if="company.company_type !== 'v'">
                  <td>Preferred Trading Term:</td><td>
                    {{ company.preferred_trading_term }}<br>{{ company.preferred_trading_term_detail }}
                  </td>
                </tr>
                <tr ng-if="company.company_type !== 'v'">
                  <td>Preferred Payment Term:</td><td>
                    {{ company.preferred_payment_term }}<br>{{ company.preferred_payment_term_detail }}
                  </td>
                </tr>
                <tr><td>Phone:</td><td>{{ company.phone }}</td></tr>
                <tr><td>Email:</td><td>{{ company.email }}</td></tr>
                <tr><td>Web:</td><td>{{ company.web }}</td></tr>
                <tr><td>Desc:</td><td>{{ company.description }}</td></tr>
                <tr ng-if="company.status == 'a'"><td>Status:</td> <td>Active</td></tr>
                <tr ng-if="company.status == 'x'"><td>Status:</td> <td>Deactivated</td></tr>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-8">
      <div class="box box-info" ng-controller="ContactController"> <!-- CONTACTS -->
        <div class="box-header with-border">
          <h3 class="box-title" style="font-size: 25px">Contacts</h3>
          <div class="box-tools pull-right">
            <button type="button" ng-click="add()" class="btn btn-info">
              <i class="glyphicon glyphicon-plus"></i> Add New Contact
            </button>
          </div>
        </div>
        <div class="box-body no-padding">
          <div class="table-responsive">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th>Name</th>
                  <th><i class="glyphicon glyphicon-envelope"></i> Email</th>
                  <th><i class="glyphicon glyphicon-earphone"></i> Phone</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="contact in company.contacts">
                  <td>{{ contact.name }}</td>
                  <td>{{ contact.email }}</td>
                  <td>{{ contact.phone }}</td>
                  <td><span class="pull-right">
                    <a href="#" ng-click="edit(contact)"><i class="glyphicon glyphicon-pencil"></i></a>
                    <a href="#" ng-click="delete(contact)"><i class="glyphicon glyphicon-remove"></i></a>
                  </span></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div> <!-- CONTACTS -->

      <div class="box box-info" ng-controller="ProductController" ng-if="company.company_type === 'c' || company.company_type === 's'"> <!-- PRODUCT -->
        <div class="box-header with-border">
          <h3 class="box-title" style="font-size: 25px">Product</h3>
          <div class="box-tools pull-right">
            <button type="button" ng-click="add()" class="btn btn-info"><i class="glyphicon glyphicon-plus"></i> Add New Product</button>
          </div>
        </div>
        <div class="box-body no-padding">
          <div class="table-responsive">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th>Name</th>
                  <th><i class="glyphicon glyphicon-scale"></i> GCV ADB (kcal)</th>
                  <th><i class="glyphicon glyphicon-scale"></i> GCV ARB (kcal)</th>
                  <th><i class="glyphicon glyphicon-scale"></i> NCV (kcal)</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="product in company.products">
                  <td>{{ product.product_name }}</td>
                  <td>{{ product.gcv_adb_min | number }} - {{ product.gcv_adb_max | number }}</td>
                  <td>{{ product.gcv_arb_min | number }} - {{ product.gcv_arb_max | number }}</td>
                  <td>{{ product.ncv_min | number }} - {{ product.ncv_max | number }}</td>
                  <td class="pull-right">
                    <a class="glyphicon glyphicon-new-window" ui-sref="product.view({ id: product.id })" target="_blank"></a>
                    <a class="glyphicon glyphicon-pencil" ng-click="edit(product)"></a>
                    <a href="#" ng-click="delete(product)"><i class="glyphicon glyphicon-remove"></i></a>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div> <!-- PRODUCT -->

      <div class="box box-info" ng-controller="ConcessionController" ng-if="company.company_type !== 'c'"> <!-- CONCESSION -->
        <div class="box-header with-border">
          <h3 class="box-title" style="font-size: 25px">Concessions</h3>
          <div class="box-tools pull-right">
            <button type="button" class="btn btn-info" ng-click="add()"><i class="glyphicon glyphicon-plus"></i> Add New Concessions</button>
          </div>
        </div>
        <div class="box-body no-padding">
          <div class="table-responsive">
          
            <table class="table table-striped">
              <thead>
                <tr>
                  <th>Name</th>
                  <th><i class="glyphicon glyphicon-map-marker"></i> Location</th>
                  <th><i class="glyphicon glyphicon-scale"></i> Reserves (tonnes)</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="concession in company.concessions">
                  <td>{{ concession.concession_name }}</td>
                  <td>{{ concession.city }} (Port: {{ concession.port.port_name || 'N/A' }})</td>
                  <td>{{ concession.reserves | number }}</td>
                  <td class="pull-right">
                    <a class="glyphicon glyphicon-new-window" ui-sref="concession.view({ id: concession.id })" target="_blank"></a>
                    <a class="glyphicon glyphicon-pencil" ng-click="edit(concession)"></a>
                    <a href="#" ng-click="delete(concession)" class="glyphicon glyphicon-remove"></a>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div> <!-- CONCESSION -->

      <div class="box box-info" ng-controller="FactoryController" ng-if="company.company_type === 'c'"> <!-- FACTORY -->
        <div class="box-header with-border">
          <h3 class="box-title" style="font-size: 25px">Factory</h3>
          <div class="box-tools pull-right">
            <button type="button" class="btn btn-info" ng-click="add()"><i class="glyphicon glyphicon-plus"></i> Add New Factory</button>
          </div>
        </div>
        <div class="box-body no-padding">
          <div class="table-responsive">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th>Name</th>
                  <th><i class="glyphicon glyphicon-map-marker"></i> Location</th>
                  <th><i class="glyphicon glyphicon-scale"></i> Consumption (tonnes)</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="factory in company.factories">
                  <td>{{ factory.factory_name }}</td>
                  <td>{{ factory.longitude | number }}, {{ factory.latitude | number }} (Port: {{ factory.port_name || 'N/A' }})</td>
                  <td>{{ factory.consumption | number }}</td>
                  <td class="pull-right">
                    <a ui-sref="factory.view({ id: factory.id })" target="_blank" class="glyphicon glyphicon-new-window"></a>
                    <a ng-click="edit(factory)" class="glyphicon glyphicon-pencil"></a>
                    <a href="#" ng-click="delete(factory)" class="glyphicon glyphicon-remove"></a>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div> <!-- FACTORY -->

      <div class="box box-info" ng-controller="PortController">  <!-- PORT -->
        <div class="box-header with-border">
          <h3 class="box-title" style="font-size: 25px">Ports</h3>
          <div class="box-tools pull-right">
            <button type="button" ng-click="add()" class="btn btn-info"><i class="glyphicon glyphicon-plus"></i> Add New Ports</button>
          </div>
        </div>
        <div class="box-body no-padding">
          <div class="table-responsive">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Location</th>
                  <th>Status</th>
                  <th>Size (Ha)</th>
                  <th><!----></th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="port in company.ports">
                  <td>{{ port.port_name }}</td>
                  <td>{{ port.location }}</td>
                  <td ng-show="port.is_private===1">Private</td>
                  <td ng-show="port.is_private===0">Public</td>
                  <td>{{ port.size }}</td>
                  <td class="pull-right">
                    <a ui-sref="port.view({ id: port.id })" target="_blank" class="glyphicon glyphicon-new-window"></a>
                    <a ng-click="edit(port)" class="glyphicon glyphicon-pencil"></a>
                    <a ng-click="delete(port)" class="glyphicon glyphicon-remove"></a>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>  <!-- PORT -->

    </div>
  </div>
</div>