<div ng-controller="OrderBuyerController">

  <h1 ng-show="buyer !== undefined">History of Buyer: {{buyer.company_name}}</h1>

    <a class="btn btn-primary" ui-sref="order-buyer.create">Place New Order</a>

    <table datatable="ng" class="row-border hover" ng-init="find()">
        <thead>
            <tr>
              <th>Order Date</th>
              <th>Company</th>
              <th>Volume(tonnes)</th>
              <th>Status</th>
              <th></th>
            </tr>
        </thead>
            <tbody>
              <tr ng-repeat="order in orders">
                <td>{{order.created_at}}</td>
                <td>{{order.company_name}}</td>
                <td>{{order.volume | number}}</td>
                <td>
                    <order-status status="order.status"></order-status>
                </td>
                <td>
                  <a ng-click="findOne(order.id); matchedProduct(order.id);" data-toggle="modal" data-target="#orderModal" class="btn btn-primary"><i class="glyphicon glyphicon-info-sign"></i></a>
                  <a href="#" class="btn btn-danger" ng-click="cancelOrder(order)"><i class="glyphicon glyphicon-trash"></i></a>
                </td>
              </tr>
            </tbody>
    </table>
    
  <div id="orderModal" class="modal fade" role="dialog">
    <!--div class="modal-dialog"-->
    <div>
      <!-- Modal content-->
      <div class="modal-content container">
        <div class="modal-header row">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h1 class="modal-title">Order Buyer Profile</h1>
        </div>
        <div class="modal-body row">
          <div ng-include="'/angular/views/order/view-order-buyer.view.html'"></div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
</div>