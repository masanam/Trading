<div class="register-box" ng-controller="AuthController" ng-init="findRoles()">
  <div class="register-logo">
    <img src="./images/berau.jpg" style="width:40px; margin-right: 10px;" ng-if="deployment === 'berau'">
    <img src="./images/sinarmas.png" style="width:40px; margin-right: 10px;" ng-if="deployment === 'bib'">
    <b> Coaltrade</b></a>
  </div>
  <div class="register-box-body">
    <p class="login-box-msg">Register </p>

    <form  method="post" role="form" ng-submit="signup()">
      <div class="form-group has-feedback">
        <input type="text" class="form-control" id="name" placeholder="Name" required="" ng-model="registration.name">
        <span class="glyphicon glyphicon-user form-control-feedback"></span>
      </div>
      <div class="form-group has-feedback">
        <input type="email" class="form-control" id="email" placeholder="Email" required="" ng-model="registration.email">
        <span class="glyphicon glyphicon-envelope form-control-feedback"></span>
      </div>
      <div class="form-group has-feedback" ng-repeat="selectedRole in selectedRoles track by $index">
        <select ng-model="selectedRole.id" placeholder="Role" flex>
          <option value="" disabled selected>Role</option>
          <option ng-repeat="role in roles" value="{{role.id}}">{{role.role}}</option>
        </select>
        <button type="button" ng-click="selectedRoles.splice(selectedRoles.indexOf(selectedRole),1)" flex>X</button>
      </div>
      <div class="form-group has-feedback">
        <button type="button" ng-click="selectedRoles.push({})"> + Add a new role</button>
      </div>
      <div class="form-group has-feedback">
       <input type="password" class="form-control" id="password" placeholder="Password" required="" ng-model="registration.password">
        <span class="glyphicon glyphicon-lock form-control-feedback"></span>
      </div>
      <div class="form-group has-feedback">
        <input type="password" class="form-control" id="confirmPassword" placeholder="Confirm Password" required="" ng-model="registration.confirmPassword">
        <span class="glyphicon glyphicon-retweet form-control-feedback"></span>
      </div>
      <div class="row">
        <div class="col-xs-8">
          <div class="callout callout-danger" ng-show="err">{{err}}</div>
        </div>
        <!-- /.col -->
        <div class="col-xs-4 hidden-xs">
          <button type="submit" class="btn btn-primary btn-block btn-flat">Register</button>
          <button type="reset" class="btn btn-default btn-block btn-flat">Reset</button>
        </div>

        <div class="col-xs-12 visible-xs">
          <button type="submit" class="btn btn-primary btn-block">Register</button>
          <button type="reset" class="btn btn-default btn-block">Reset</button>
        </div>
        <!-- /.col -->
      </div>
    </form>

    <a href="/auth/signin" class="text-center">I already have a username</a>
  </div>
